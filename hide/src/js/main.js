var sj={};function isEmojiChar(e){return(null!=regex.exec(e)||null!=regex.exec(e))&&-1==e.search(/[\u{4e00}-\u{9fa5}_a-zA-Z0-9]/gu)}var p1="https://cdn.jsdelivr.net/gh/gaowanliang/pinyinjs/dict/pinyin_dict_polyphone.js",p2="https://cdn.jsdelivr.net/gh/gaowanliang/pinyinjs/pinyinUtil.min.js",cdn="https://cdn.jsdelivr.net/gh/gaowanliang/NMSL/",segmentit,regex,inst=((-1!=window.location.href.indexOf("gitee")?($("body").addClass("mdui-theme-primary-red mdui-theme-accent-red"),$("#domestic")):$("#global")).hide(),new mdui.Tab("#tab")),index=0,skin=(document.getElementById("tab").addEventListener("change.mdui.tab",function(e){2==(index=e._detail.index)?$("#up").text("Áªô"+$("#skinSel")[0][$("#skinSel").val()].innerText+"ËÆ∫ËØÅ"):$("#up").text("Áªô"+$("#skinSel")[0][$("#skinSel").val()].innerText+"ËΩ¨"),1==index?$("#up").hide():$("#up").show()}),$("#skinSel")[0][$("#skinSel").val()].innerText);function offensive(){res="",print(res=1!=$("input[id='zhadd']").is(":checked")?$("#t1").val().split("").join(" "):$("#t1").val().replace(/([\u4e00-\u9fa5])/g," $1 ").replace(/  /g," ").trim())}function replacement(){onDemandScript(p1,function(){onDemandScript(p2,function(){onDemandScript("https://cdn.jsdelivr.net/gh/gaowanliang/NMSL/src/js/chemical.min.js",function(){print(chemicalChange($("#t2").val()))})})})}function aoligei(){onDemandScript(cdn+"src/js/aoligei.js",function(){print(aoli())})}function print(e){$("#res").text(e),$("#copy").attr("data-clipboard-text",e)}$(()=>{$("#skinSel").change(()=>{for(console.log($("#skinSel").val()),temp=$(".mdui-panel-item-summary,.mdui-checkbox,#up"),i=0,len=temp.length;i<len;i++)temp.eq(i).html(temp.eq(i).html().replace(eval("/"+skin+"/g"),$("#skinSel")[0][$("#skinSel").val()].innerText));skin=$("#skinSel")[0][$("#skinSel").val()].innerText})});const getTextFeature=(e,n)=>{try{var i=document.createElement("canvas"),t=(i.width=2,i.height=2,i.getContext("2d")),s=(t.textBaseline="top",t.font="100px sans-serif",t.fillStyle=n,t.scale(.01,.01),t.fillText(e,0,0),t.getImageData(0,0,2,2).data),a=[];for(let e=0;e<s.length;e++)a[e]=s[e];return 0<a.reduce((e,n)=>e+n,0)&&a.toString()}catch(e){return!1}},distribute=(e,n)=>{var i=getTextFeature(e,"#000");return n?i&&i===getTextFeature(e,"#FFF"):i},ifEmoji=e=>{var n=distribute("üòÅ");return distribute(e,n)};var bfl=Object.assign({},sj),bfsy={},sy={},kuan=0,k1=1,bfl,bfsy,sy;function addProcess(){4<=++kuan&&($("#p1").hide(),changes())}function livere(){var e,n,i;k1&&(e=document,n="script",i=e.getElementsByTagName(n)[0],"function"!=typeof LivereTower&&((e=e.createElement(n)).src="https://cdn-city.livere.com/js/embed.dist.js",e.async=!0,i.parentNode.insertBefore(e,i)),k1--)}function changes(){var e="";if(console.log(index,1),0==index){var n=$("#t").val(),t=segmentit.doSegment(n),s=sj,a=sy;if(1==$("input[id='checklook']").is(":checked")&&(s=bfl,a=bfsy),console.log(t),"1"==$("input[name='group1']:checked").val())for(i=0,len=t.length;i<len;i++)if(void 0!==s[c=t[i].w.trim()])e+=s[c];else if(0<c.length)for(characters=c.split(""),j=0,wlen=characters.length;j<wlen;j++)void 0!==s[characters[j]]?e+=s[characters[j]]:e+=characters[j];else e+=c;else for(i=0,len=t.length;i<len;i++){var c,r=s[c=t[i].w.trim()];if(void 0!==r)e+=s[c];else if(void 0===r){r=pinyinUtil.getPinyin(c,"",!1,!0);if(void 0!==a[r])e+=s[a[r]];else if(0<c.length)for(characters=c.split(""),j=0,wlen=characters.length;j<wlen;j++){var o,l=characters[j];void 0!==s[l]?e+=s[l]:void 0!==a[o=pinyinUtil.getPinyin(l,"",!1,!0)]?e+=s[a[o]]:e+=l}else e+=c.trim()}}1==$("input[id='checkda']").is(":checked")&&(e=e.replace(/Â§ß/g,"Â∏¶")),1==$("input[id='checkai']").is(":checked")&&(e=e.replace(/üíì/g,"i")),1==$("input[id='checkye']").is(":checked")&&(e=e.replace(/Êàë/g,"üë¥")),print(e=0!=$("#skinSel").val()?e.replace(/üë¥/g,$("#skinSel")[0][$("#skinSel").val()].innerText):e)}else onDemandScript(cdn+"src/js/dssq.min.js",function(){print(generate())})}function onDemandScript(e,n){n=void 0!==n?n:{},$.ajax({type:"GET",url:e,success:n,dataType:"js"==e.substring(e.lastIndexOf(".")+1)?"script":"json",cache:!0})}var done=!0,clipboard=($("#up").click(function(){done?onDemandScript("src/data/emoji.json",function(data){sj=data,bfl=Object.assign({},sj),bfsy={},sy={},$("#te").hide(),$("#p2").show(),t=0,onDemandScript("src/js/segmentCXH.min.js",function(){console.log("segmentit.js done");var{Segment:e,useDefault:n}=require("segmentit");segmentit=n(new e),addProcess()}),onDemandScript(p1,function(){console.log("pinyin_dict_polyphone.min.js done"),addProcess(),onDemandScript(p2,function(){console.log("pinyinUtil.min.js done"),addProcess(),onDemandScript(cdn+"src/js/emoji-regex.js",function(){console.log("emoji-regex.js done");const emojiRegex=require("emoji-regex");regex=emojiRegex(),Object.keys(sj).forEach(function(key){sy[pinyinUtil.getPinyin(key,"",!1,!0)+""]=key,!ifEmoji(sj[key])&&isEmojiChar(sj[key])?eval("delete bfl."+key):bfsy[pinyinUtil.getPinyin(key,"",!1,!0)+""]=key}),addProcess()})})}),done--}):changes()}),new ClipboardJS("#copy"));clipboard.on("success",function(e){mdui.snackbar({message:"Â§çÂà∂ÊàêÂäü"})}),clipboard.on("error",function(e){mdui.snackbar({message:"Â§çÂà∂Â§±Ë¥•ÔºåÁî®ÂÖ∂‰ªñÊµèËßàÂô®ËØïËØïÔºü"})});